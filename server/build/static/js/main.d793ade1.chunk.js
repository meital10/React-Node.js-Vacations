(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,a){e.exports=a(149)},121:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return nt}));var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(121),a(20)),s=a(21),u=a(24),l=a(23),p=a(6),d=a.n(p),m=a(11),f=a(46),v=a(13),h=a.n(v),g=a(199),b=a(200),y=a(201),E=a(202),O=a(203),j=a(204),x=a(50),D=a(26),w=a(15),_=a(191),k=a(211),A=a(216),C=a(198),S=a(195),T=a(196),V=a(194),U=a(66),I=a.n(U),R=a(22),F="OPEN_SNACKBAR",M="CLOSE_SNACKBAR";function L(){return(L=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:t=e.sent,nt.dispatch({type:"FETCH_VACATIONS_SUCCESS",vacations:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),nt.dispatch({type:"FETCH_VACATIONS_FAILED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function N(){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/vacations");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){return{type:"EDIT_VACATION",payload:e}},B=a(67),H=a.n(B),q=a(210),Z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.onSave=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.vacation){e.next=7;break}return e.next=3,h.a.patch("/vacations/edit-vacation",n.state.form);case 3:e.sent,n.props.updateVacation(n.state.form),e.next=12;break;case 7:return e.next=9,h.a.post("/vacations/add-vacation",n.state.form);case 9:e.sent,n.props.addVacation(n.state.form),n.setState({form:{}});case 12:n.handleClose();case 13:case"end":return e.stop()}}),e)}))),n.onChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({form:Object(w.a)(Object(w.a)({},n.state.form),{},Object(D.a)({},a,r))})},n.state={open:!1,form:n.props.vacation||{}},n}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a=this.state,o=a.open,c=a.form,i=this.props.vacation;return r.a.createElement(n.Fragment,null,r.a.createElement("form",{onChange:this.onChange},r.a.createElement(_.a,{color:"primary",onClick:this.handleClickOpen,style:{editIconStyle:{position:"relative",left:"100px",top:"100px"}}},i?r.a.createElement(I.a,null):r.a.createElement(H.a,{color:"secondary"})),r.a.createElement(A.a,{open:o,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(V.a,{id:"form-dialog-title"},i?"EDIT VACATION":"ADD VACATION"),r.a.createElement(S.a,null,r.a.createElement(T.a,null,i?"insert vacation changes here":"insert vacation details here"),r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"destination",id:"destination",label:"Destination",type:"text",fullWidth:!0,defaultValue:c.destination}),r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"description",id:"description",label:"Description",type:"text",fullWidth:!0,defaultValue:c.description}),r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"img_url",id:"image",label:"Image",type:"text",fullWidth:!0,defaultValue:c.img_url}),r.a.createElement(k.a,(e={autoFocus:!0,margin:"dense",name:"from_date",id:"fromDate",label:"from Date",type:"text"},Object(D.a)(e,"type","date"),Object(D.a)(e,"fullWidth",!0),Object(D.a)(e,"defaultValue",c.from_date&&Object(q.a)(new Date(c.from_date),"yyyy-MM-dd")),e)),r.a.createElement(k.a,(t={autoFocus:!0,margin:"dense",name:"to_date",id:"toDate",label:"to Date",type:"text"},Object(D.a)(t,"type","date"),Object(D.a)(t,"fullWidth",!0),Object(D.a)(t,"defaultValue",c.to_date&&Object(q.a)(new Date(c.to_date),"yyyy-MM-dd")),t)),r.a.createElement(k.a,{autoFocus:!0,margin:"dense",name:"price",id:"price",label:"price",type:"number",min:"0",defaultValue:c.price})),r.a.createElement(C.a,null,r.a.createElement(_.a,{variant:"contained",onClick:this.handleClose},"cancel"),r.a.createElement(_.a,{variant:"contained",onClick:this.onSave,color:"primary"},this.props.vacation?"Save":"create")))))}}]),a}(r.a.Component),G=Object(R.b)((function(e){return{modalMode:e.modalMode}}),{addVacation:function(e){return{type:"ADD_VACATION",vacation:e}},updateVacation:function(e){return{type:"UPDATE_VACATION",vacation:e}},editVacation:P})(Z),Y=a(97),J=a.n(Y),K=a(96),X=a.n(K),$=(a(145),{root:{marginTop:20,marginLeft:10,maxWidth:320},media:{height:0,paddingTop:"56.25%"},cardIcons:{spacing:8}}),z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addFollow=n.addFollow.bind(Object(f.a)(n)),n.unFollow=n.unFollow.bind(Object(f.a)(n)),n.deleteVacation=n.deleteVacation.bind(Object(f.a)(n)),n.editVacation=n.editVacation.bind(Object(f.a)(n)),n}return Object(s.a)(a,[{key:"addFollow",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.vacation.vacation_id,this.props.follow(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unFollow",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.vacation.vacation_id,this.props.unFollow(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteVacation",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.vacation.vacation_id,e.next=3,h.a.delete("/vacations/delete-vacation/".concat(t));case 3:this.props.deleteVacation(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editVacation",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.vacation.vacation_id,this.props.editVacation(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.user,a=void 0===t?{}:t,o=e.vacation,c=(o.description,o.destination,o.from_date,o.to_date,o.img_url,o.price,o.is_admin,o.followed);return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{style:$.root,variant:"outlined"},r.a.createElement(b.a,{title:o.destination,style:{color:"blue"}}),r.a.createElement(y.a,{style:$.media,image:o.img_url}),r.a.createElement(E.a,null,r.a.createElement(x.a,{variant:"body1",component:"p"})),r.a.createElement(E.a,null,o.description,r.a.createElement(x.a,{variant:"inherit",color:"textSecondary",component:"p"},r.a.createElement("p",null,"from: ",Object(q.a)(new Date(o.from_date),"yyyy-MM-dd")),r.a.createElement("p",null,"to: ",Object(q.a)(new Date(o.to_date),"yyyy-MM-dd")),r.a.createElement("p",null,"price: ",o.price," $"))),a.is_admin?r.a.createElement(O.a,null,r.a.createElement(G,{vacation:o}),r.a.createElement(j.a,{"aria-label":"delete vacation"},r.a.createElement(X.a,{onClick:this.deleteVacation}))):r.a.createElement(O.a,null,r.a.createElement(j.a,{color:c?"primary":"","aria-label":"add to favorites",alt:"follow click"},r.a.createElement(J.a,{onClick:c?this.unFollow:this.addFollow})))))}}]),a}(r.a.Component),Q=Object(R.b)((function(e){return{user:e.user}}),{follow:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/vacations/add-follow",{vacation_id:e});case 3:n=t.sent,a({type:"ADD_FOLLOW",vacation_id:e,result:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/vacations/unfollow",{vacation_id:e});case 3:n=t.sent,a({type:"UNFOLLOW",vacation_id:e,result:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteVacation:function(e){return{type:"DELETE_VACATION",vacation_id:e}},editVacation:P})(z),ee=(a(91),a(207)),te=a(205),ae=a(206),ne=a(68),re=a.n(ne),oe=a(16),ce=function(){return function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/check_authentication");case 3:a=e.sent,t({type:"AUTHORIZED",res:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"UNAUTHORIZED"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(e){return{type:"SET_USER",payload:e}},se=function(){return{type:M}},ue={root:{flexGrow:"1"},menuButton:{marginRight:"spacing(2)"},button:{marginLeft:"spacing(2)"},title:{flexGrow:1}},le=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).goTo=function(t){e.props.history.push(t)},e}return Object(s.a)(a,[{key:"logout",value:function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/auth/logout");case 3:this.props.logout(),this.props.history.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/login");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user;return console.log("user",t),t?r.a.createElement("div",{style:ue.root},r.a.createElement(te.a,{position:"static"},r.a.createElement(ae.a,null,!!t.is_admin&&r.a.createElement(j.a,{color:"inherit","aria-label":!0},r.a.createElement(G,null),r.a.createElement(re.a,{onClick:function(){return e.goTo("/chart")}})),r.a.createElement(x.a,{variant:"h6",style:ue.title},r.a.createElement("span",null,"Hello "),r.a.createElement("span",null," ",t.username)),r.a.createElement(_.a,{style:ue.button,onClick:function(){return e.logout()},color:"inherit"},"Logout")))):null}}]),a}(r.a.Component),pe=Object(R.b)((function(e){return{user:e.user}}),{logout:function(){return{type:"LOGOUT_USER"}}})(Object(oe.g)(le)),de={gridCointainer:{paddingLeft:"20px",paddingRight:"20px"},button:{marginLeft:"spacing(2)"}},me=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={destination:"",description:"",from_date:"",to_date:"",price:"",img_url:"",id:null,vacations:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){!function(){L.apply(this,arguments)}()}},{key:"render",value:function(){var e=this.props,t=e.vacations;return e.user?r.a.createElement("div",null,r.a.createElement(pe,null),r.a.createElement(ee.a,{container:!0,spacing:4,className:de.gridCointainer},r.a.createElement(ve,{vacations:t}))):r.a.createElement(oe.a,{to:"/login"})}}]),a}(r.a.Component),fe=Object(R.b)((function(e){return{authentication:e.Authentication,vacations:e.VacationsReducer.vacations,user:e.user}}),null)(me);function ve(e){var t=e.vacations;return Array.isArray(t)?t.map((function(e,t){return r.a.createElement(ee.a,{key:t,item:!0,xs:12,sm:6,md:3},r.a.createElement(Q,{vacation:e}))})):null}var he=a(208),ge=a(101),be=a(217),ye=a(212),Ee=a(34),Oe=a(65),je=a.n(Oe);function xe(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","My Vacations Project 2020")}var De={root:{height:"100vh",paddingTop:"30px",paddingLeft:"20px",paddingRight:"20px",display:"flex",flexDirection:"column",alignItems:"center"},paper:{paddingTop:"30px",marginRight:"50px",marginBottom:"290px",display:"flex",flexDirection:"column",alignItems:"center",align:"center"},image:{backgroundRepeat:"no-repeat",objectFit:"cover",backgroundPosition:"center",paddingLeft:"20px"},form:{width:"100%",marginTop:"20px"},submit:{Button:"20px"},avatar:{alignItems:"center"}},we=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",is_admin:""},n}return Object(s.a)(a,[{key:"onChange",value:function(e,t){this.setState(Object(D.a)({},e,t))}},{key:"onClick",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,t.username,t.password,e.next=4,h.a.post("/auth/login",this.state);case 4:a=e.sent,n=a.data,this.props.setUser(n.user),this.props.history.push("/home"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({error:!0}),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(ee.a,{container:!0,component:"main",style:De.root,spacing:6},r.a.createElement(he.a,null),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement("img",{src:"https://kedm.co.il/wp-content/uploads/2019/12/%D7%97%D7%95%D7%A4%D7%A9%D7%94-%D7%91%D7%9E%D7%9C%D7%93%D7%99%D7%91%D7%99%D7%9D-%D7%A2%D7%9D-%D7%A7%D7%93%D7%9D-1-1024x731.jpg",alt:"fronImage",style:De})),r.a.createElement("div",null),r.a.createElement(ee.a,{item:!0,xs:12,sm:6,component:ge.a,square:!0},r.a.createElement("div",{style:De.paper},r.a.createElement(be.a,{style:De.avatar},r.a.createElement(je.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Please Login"),r.a.createElement("form",{style:De.form,noValidate:!0},r.a.createElement(k.a,{name:"username",id:"username",type:"text",label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"on",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("username",a)}}),r.a.createElement(k.a,{name:"password",id:"password",type:"password",label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"current-password",onChange:function(t){var a=t.target.value;return e.onChange("password",a)}}),r.a.createElement(_.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:De.submit,onClick:function(){return e.onClick()}},"Login"),r.a.createElement(ee.a,{container:!0},r.a.createElement(ee.a,{item:!0},r.a.createElement(x.a,null,r.a.createElement(Ee.b,{to:"/signup",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement(ye.a,{mt:5},r.a.createElement(xe,null))))))}}]),a}(r.a.Component),_e=Object(R.b)((function(e){return{authentication:e.Authentication}}),(function(e){return{checkUserAuthentication:function(){return e(ce())},login:function(t,a){return e(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/login",e);case 3:t.sent.data.user&&a({type:"AUTHORIZED"}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"UNAUTHORIZED"}),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setUser:function(t){return e(ie(t))}}}))(we);function ke(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","My Vacations Project 2020")}var Ae={root:{height:"100vh",paddingTop:"30px",paddingLeft:"20px",paddingRight:"20px",display:"flex",flexDirection:"column",alignItems:"center"},paper:{paddingTop:"30px",marginRight:"50px",marginBottom:"180px",display:"flex",flexDirection:"column",alignItems:"center",align:"center"},image:{backgroundRepeat:"no-repeat",objectFit:"cover",backgroundPosition:"center",paddingLeft:"20px"},form:{width:"100%",marginTop:"20px"},submit:{Button:"20px"},avatar:{alignItems:"center"}},Ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={first_name:"",last_name:"",username:"",password:"",is_admin:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.checkUserAuthentication()}},{key:"onChange",value:function(e,t){this.setState(Object(D.a)({},e,t))}},{key:"onClick",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.first_name,n=t.last_name,r=t.username,o=t.password,Se({first_name:a,last_name:n,username:r,password:o}),e.next=5,h.a.post("/auth/signup",this.state);case 5:c=e.sent,c.data,this.props.closeSnackBarAction(),this.props.history.push("/login"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),this.setState({error:!0}),console.log(e.t0),this.props.openSnackBar({sbMessage:e.t0.message,sbSevirity:"error"}),this.setState({error:!0,messageError:e.t0.message});case 17:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,component:"main",style:Ae.root,spacing:6},r.a.createElement(he.a,null),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:Ae.image},r.a.createElement("img",{src:"https://kedm.co.il/wp-content/uploads/2019/12/%D7%97%D7%95%D7%A4%D7%A9%D7%94-%D7%91%D7%9E%D7%9C%D7%93%D7%99%D7%91%D7%99%D7%9D-%D7%A2%D7%9D-%D7%A7%D7%93%D7%9D-1-1024x731.jpg",alt:"fronImage"})," ")),r.a.createElement("div",null),r.a.createElement(ee.a,{item:!0,xs:12,sm:6,component:ge.a,square:!0},r.a.createElement("div",{style:Ae.paper},r.a.createElement(be.a,{style:Ae.avatar},r.a.createElement(je.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Please Sign Up"),r.a.createElement("form",{className:Ae.form,noValidate:!0},r.a.createElement(k.a,{name:"first_name",id:"first_name",type:"text",label:"first name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"off",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("first_name",a)}}),r.a.createElement(k.a,{name:"last_name",id:"last",type:"text",label:"last name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"off",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("last_name",a)}}),r.a.createElement(k.a,{name:"username",id:"username",type:"text",label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"off",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("username",a)}}),r.a.createElement(k.a,{name:"password",id:"password",type:"password",label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"current-password",onChange:function(t){var a=t.target.value;return e.onChange("password",a)}}),r.a.createElement(_.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:Ae.submit,onClick:function(){return e.onClick()}},"Sign Up"),r.a.createElement(ee.a,{container:!0},this.state.error&&r.a.createElement("span",{style:{color:"red"}},this.state.messageError," ")),r.a.createElement(ee.a,{container:!0},r.a.createElement(ee.a,{item:!0},r.a.createElement(x.a,null,r.a.createElement(Ee.b,{to:"/login",variant:"body2"},"Have an account?")))),r.a.createElement(ye.a,{mt:5},r.a.createElement(ke,null)))))))}}]),a}(r.a.Component);function Se(e){var t=e.first_name,a=e.last_name,n=e.username,r=e.password;if(!t||!a||!n||!r)throw new Error("Missing params")}var Te=Object(R.b)((function(e){return{authentication:e.Authentication,userReducer:e.userReducer}}),(function(e){return{openSnackBar:function(t){return e(function(e){return{type:F,payload:e}}(t))},checkUserAuthentication:function(){return e(ce())},signup:function(t){return e(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("/signup",e);case 3:t.sent.data.user&&a({type:"AUTHORIZED"}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"UNAUTHORIZED"}),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},closeSnackBarAction:function(){return e(se())}}}))(Ce),Ve=(a(147),a(215)),Ue=a(213),Ie=a(209);function Re(e){return r.a.createElement(Ue.a,Object.assign({elevation:6,variant:"filled"},e))}var Fe=Object(Ie.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Me(e){var t=Fe(),a=e.open,n=e.message,o=e.sevirity;return r.a.createElement("div",{className:t.root},r.a.createElement(Ve.a,{open:a,autoHideDuration:5e3,onClick:function(){var t=e.closeSbAction;"function"===typeof t&&t()}},r.a.createElement(Re,{severity:o},n)))}var Le=a(69),Ne=a.n(Le),We=(a(148),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={open:!1,chart:{},data:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/vacations/vacation-chart");case 2:t=e.sent,this.setState({data:t.data}),a=t.data,n={chart:{type:"column"},title:{text:"Vacations followers"},xAxis:{categories:a.map((function(e){return"".concat(e.destination," - ").concat(e.vacation_id)}))},yAxis:{title:{text:"Amount of followers for each vacation"}},series:[{data:a.map((function(e){return e.number_of_followers}))}]},Ne.a.chart("chart",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"chart"}))}}]),a}(r.a.Component)),Pe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){var e=this.props,t=e.snackBar,a=e.closeSnackBar,n=e.ready,o=t.sbOpened,c=t.sbMessage,i=t.sbSevirity;return n?r.a.createElement("div",null,r.a.createElement(Me,{open:o,message:c,sevirity:i,closeSbAction:a}),r.a.createElement(Ee.a,null,r.a.createElement(oe.d,null,r.a.createElement(oe.b,{path:"/signup",component:Te}),r.a.createElement(oe.b,{path:"/login",component:_e,exact:!0}),r.a.createElement(oe.b,{path:"/home",component:fe}),r.a.createElement(oe.b,{path:"/chart",component:We})))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),Be=Object(R.b)((function(e){return{snackBar:e.globalReducers,ready:e.globalReducers.ready}}),(function(e){return{closeSnackBar:function(){return e(se())},currentUser:function(){return e(function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/auth/currentUser");case 3:(a=e.sent).data.user&&t(ie(a.data.user)),t({type:"APP_READY"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"APP_READY"}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=a(98),qe=a.n(He),Ze=a(99),Ge=a(39),Ye=a(73),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vacations:[]},t=arguments.length>1?arguments[1]:void 0;switch(console.log("vacationsReducers",t),t.type){case"FETCH_VACATIONS_SUCCESS":return{vacations:Object(Ye.a)(t.vacations)};case"ADD_VACATION":return Object(w.a)(Object(w.a)({},e),{},{vacations:[].concat(Object(Ye.a)(e.vacations),[t.vacation])});case"UPDATE_VACATION":return Object(w.a)(Object(w.a)({},e),{},{vacations:e.vacations.map((function(e){return e.vacation_id===t.vacation.vacation_id?t.vacation:e}))});case"DELETE_VACATION":return Object(w.a)(Object(w.a)({},e),{},{vacations:e.vacations.filter((function(e){return e.vacation_id!==t.vacation_id}))});case"ADD_FOLLOW":return Object(w.a)(Object(w.a)({},e),{},{vacations:Ke(e.vacations,t.vacation_id,!0)});case"UNFOLLOW":return Object(w.a)(Object(w.a)({},e),{},{vacations:Ke(e.vacations,t.vacation_id,!1)});case"RESET_DATA":return[];default:return e}};function Ke(e,t,a){return e.map((function(e){return e.vacation_id==t&&(e.followed=a),Object(w.a)({},e)}))}var Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{is_authenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNAUTHORIZED":return{is_authenticated:!1};case"AUTHORIZED":return{is_authenticated:!0};default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_EDIT_MODE":return{active:!0,edit:!0};case"MODAL_ADD_MODE":return{active:!0,add:!0};case"MODAL_DELETE_MODE":return{active:!0,delete:!0};default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT_USER":return null;case"SET_USER":return t.payload;default:return e}},Qe={sbOpened:!1,sbMessage:"",sbSevirity:"error",ready:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:var a=t.payload,n=a.sbMessage,r=a.sbSevirity;return Object(w.a)(Object(w.a)({},e),{},{sbOpened:!0,sbMessage:n,sbSevirity:r});case"APP_READY":return Object(w.a)(Object(w.a)({},e),{},{ready:!0});case M:return Object(w.a)(Object(w.a)({},e),{},{sbOpened:!1,sbMessage:"",sbSevirity:"error"});default:return e}},tt=Object(Ge.c)({VacationsReducer:Je,Authentication:Xe,modalModeReducer:$e,user:ze,globalReducers:et}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ge.d,nt=Object(Ge.e)(tt,at(Object(Ge.a)(qe.a,Ze.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R.a,{store:nt},r.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.d793ade1.chunk.js.map